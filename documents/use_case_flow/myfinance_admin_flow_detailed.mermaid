%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#1E293B','primaryTextColor':'#fff','primaryBorderColor':'#0F172A','lineColor':'#475569','secondaryColor':'#DC2626','tertiaryColor':'#F59E0B'}}}%%

flowchart TD
    Start([ADMIN LOGIN]) --> Login["1. ƒêƒÇNG NH·∫¨P V·ªöI ROLE ADMIN<br/>‚Ä¢ Email: admin@myfinance.com<br/>‚Ä¢ C√≥ role ADMIN<br/>‚Ä¢ JWT v·ªõi admin permissions"]
    
    Login --> Dashboard["2. ADMIN DASHBOARD<br/>‚Ä¢ T·ªïng quan h·ªá th·ªëng<br/>‚Ä¢ Key metrics realtime<br/>‚Ä¢ Quick stats"]
    
    Dashboard --> Analytics["üìä XEM ANALYTICS T·ªîNG QUAN<br/>‚Ä¢ Financial metrics<br/>‚Ä¢ User behavior analytics<br/>‚Ä¢ Transaction trends"]
    
    Analytics --> Choice{T√°c v·ª• admin n√†o?}
    
    Choice --> UserMgmt["3A. QU·∫¢N L√ù NG∆Ø·ªúI D√ôNG<br/>‚Ä¢ Xem danh s√°ch users<br/>‚Ä¢ Search & Filter<br/>‚Ä¢ View user details"]
    
    Choice --> AuditLogs["3B. XEM AUDIT LOGS<br/>‚Ä¢ Xem log ho·∫°t ƒë·ªông admin<br/>‚Ä¢ Filter theo action type<br/>‚Ä¢ Filter theo th·ªùi gian"]
    
    Choice --> SysConfig["3C. C·∫§U H√åNH H·ªÜ TH·ªêNG<br/>‚Ä¢ Xem system configs<br/>‚Ä¢ Feature flags<br/>‚Ä¢ Maintenance mode"]
    
    Choice --> DetailAnalytics["3D. PH√ÇN T√çCH CHI TI·∫æT<br/>‚Ä¢ Financial analytics<br/>‚Ä¢ User engagement metrics<br/>‚Ä¢ Category breakdown"]
    
    UserMgmt --> UserAction{C·∫ßn thao t√°c<br/>user?}
    UserAction -->|YES| UserOps["‚Ä¢ Activate user<br/>‚Ä¢ Deactivate user<br/>‚Ä¢ View statistics"]
    UserAction -->|NO| Logged
    UserOps --> Logged
    
    AuditLogs --> BackupLogs{C·∫ßn backup<br/>logs?}
    BackupLogs -->|YES| ExportLogs["‚Ä¢ Export JSON<br/>‚Ä¢ Download logs"]
    BackupLogs -->|NO| Logged
    ExportLogs --> Logged
    
    SysConfig --> ConfigChange{C·∫ßn thay ƒë·ªïi<br/>config?}
    ConfigChange -->|YES| UpdateConfig["‚Ä¢ Update config<br/>‚Ä¢ Toggle feature<br/>‚Ä¢ Enable maintenance"]
    ConfigChange -->|NO| Logged
    UpdateConfig --> Logged
    
    DetailAnalytics --> Logged
    
    Logged["üìù Thao t√°c ƒë∆∞·ª£c GHI LOG<br/>(Audit trail t·ª± ƒë·ªông)"]
    
    Logged --> SystemHealth["4. GI√ÅM S√ÅT SYSTEM HEALTH<br/>‚Ä¢ Check database status<br/>‚Ä¢ Monitor API performance<br/>‚Ä¢ View error rates<br/>‚Ä¢ Check email service"]
    
    SystemHealth --> IssueCheck{C√≥ v·∫•n ƒë·ªÅ<br/>c·∫ßn x·ª≠ l√Ω?}
    
    IssueCheck -->|YES| HandleIssue["‚Ä¢ Investigate issue<br/>‚Ä¢ Take action<br/>‚Ä¢ Document solution"]
    IssueCheck -->|NO| Cleanup
    HandleIssue --> Cleanup
    
    Cleanup["5. D·ªåN D·∫∏P & B·∫¢O TR√å<br/>‚Ä¢ Cleanup old audit logs<br/>‚Ä¢ Check database size<br/>‚Ä¢ Review user activity"]
    
    Cleanup --> Continue{Ti·∫øp t·ª•c<br/>gi√°m s√°t?}
    
    Continue -->|YES| Dashboard
    Continue -->|NO| End([LOGOUT])
    
    style Start fill:#1E293B,stroke:#0F172A,stroke-width:3px,color:#fff
    style Login fill:#1E293B,stroke:#0F172A,stroke-width:2px,color:#fff
    style Dashboard fill:#1E293B,stroke:#0F172A,stroke-width:2px,color:#fff
    style Analytics fill:#334155,stroke:#1E293B,stroke-width:2px,color:#fff
    style Choice fill:#F59E0B,stroke:#D97706,stroke-width:2px,color:#fff
    
    style UserMgmt fill:#475569,stroke:#334155,stroke-width:2px,color:#fff
    style AuditLogs fill:#475569,stroke:#334155,stroke-width:2px,color:#fff
    style SysConfig fill:#475569,stroke:#334155,stroke-width:2px,color:#fff
    style DetailAnalytics fill:#475569,stroke:#334155,stroke-width:2px,color:#fff
    
    style UserAction fill:#F59E0B,stroke:#D97706,stroke-width:2px,color:#fff
    style BackupLogs fill:#F59E0B,stroke:#D97706,stroke-width:2px,color:#fff
    style ConfigChange fill:#F59E0B,stroke:#D97706,stroke-width:2px,color:#fff
    
    style UserOps fill:#64748B,stroke:#475569,stroke-width:2px,color:#fff
    style ExportLogs fill:#64748B,stroke:#475569,stroke-width:2px,color:#fff
    style UpdateConfig fill:#64748B,stroke:#475569,stroke-width:2px,color:#fff
    
    style Logged fill:#DC2626,stroke:#B91C1C,stroke-width:2px,color:#fff
    style SystemHealth fill:#1E293B,stroke:#0F172A,stroke-width:2px,color:#fff
    style IssueCheck fill:#F59E0B,stroke:#D97706,stroke-width:2px,color:#fff
    style HandleIssue fill:#64748B,stroke:#475569,stroke-width:2px,color:#fff
    style Cleanup fill:#1E293B,stroke:#0F172A,stroke-width:2px,color:#fff
    style Continue fill:#F59E0B,stroke:#D97706,stroke-width:2px,color:#fff
    style End fill:#64748B,stroke:#475569,stroke-width:3px,color:#fff
